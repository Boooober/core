{"title":"Market regulator abstract contract,       this contract creates market and `credits` token       for market trade","fileName":"market/MarketRegulator.sol","name":"MarketRegulator","abi":[{"constant":false,"inputs":[{"name":"_owner","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"credits","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"sign","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"hammer","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"market","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"destroy","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_hammer","type":"address"}],"name":"setHammer","outputs":[],"payable":false,"type":"function"},{"inputs":[{"name":"_market","type":"address"},{"name":"_credits","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"sender","type":"address"},{"indexed":true,"name":"agent","type":"address"}],"name":"MarketAgentSign","type":"event"}],"bin":"","opcodes":"","source":"pragma solidity ^0.4.4;\nimport 'lib/AddressList.sol';\nimport 'token/TokenEmission.sol';\nimport './MarketAgent.sol';\nimport './Market.sol';\n\n/**\n * @title Market regulator abstract contract,\n *        this contract creates market and `credits` token\n *        for market trade\n */\ncontract MarketRegulator is Object {\n    /* The self market */\n    Market public market;\n\n    /* The self credits */\n    TokenEmission public credits;\n\n    /* The self created market agents */\n    AddressList.Data agents;\n    using AddressList for AddressList.Data;\n\n    /* Only market agents can call modified functions */\n    modifier onlyAgents { if (agents.contains(msg.sender)) _; }\n\n    function MarketRegulator(address _market, address _credits) {\n        market  = Market(_market);\n        credits = TokenEmission(_credits);\n    }\n\n    /**\n     * @dev this event emitted for every new MarketAgent\n     * @param sender is a client address\n     * @param agent is an agent address\n     */\n    event MarketAgentSign(address indexed sender, address indexed agent);\n\n    /**\n     * @dev Sign a contract with sender for trading on market\n     * @return `MarketAgent` instance\n     */\n    function sign() returns (MarketAgent);\n}\n","abiDocs":[{"constant":false,"inputs":[{"name":"_owner","type":"address","description":"New owner address "}],"name":"setOwner","outputs":[],"payable":false,"type":"function","details":"Delegate contract to another person","signature":"setOwner(address)","signatureHash":"13af4035"},{"constant":true,"inputs":[],"name":"credits","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function","signature":"credits()","signatureHash":"26540fd2"},{"constant":false,"inputs":[],"name":"sign","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function","details":"Sign a contract with sender for trading on market","return":"`MarketAgent` instance","signature":"sign()","signatureHash":"2ca15122"},{"constant":true,"inputs":[],"name":"hammer","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function","signature":"hammer()","signatureHash":"457f4d41"},{"constant":true,"inputs":[],"name":"market","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function","signature":"market()","signatureHash":"80f55605"},{"constant":false,"inputs":[],"name":"destroy","outputs":[],"payable":false,"type":"function","details":"Destroy contract and scrub a data","notice":"Only hammer can call it ","signature":"destroy()","signatureHash":"83197ef0"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function","signature":"owner()","signatureHash":"8da5cb5b"},{"constant":false,"inputs":[{"name":"_hammer","type":"address","description":"New hammer address"}],"name":"setHammer","outputs":[],"payable":false,"type":"function","details":"Hammer setter","signature":"setHammer(address)","signatureHash":"d31fdffd"},{"inputs":[{"name":"_market","type":"address"},{"name":"_credits","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"sender","type":"address"},{"indexed":true,"name":"agent","type":"address"}],"name":"MarketAgentSign","type":"event","signature":"MarketAgentSign(address,address)","signatureHash":"08e2fbe5"}]}
